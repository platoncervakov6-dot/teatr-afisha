<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Театральная афиша Москвы</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { background: linear-gradient(135deg, #1a2a6c, #b21f1f); color: white; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .loader { text-align: center; padding: 30px; }
  </style>
</head>
<body>
  <div class="container">
    <h1 style="text-align:center;">Театральная афиша Москвы</h1>
    <div id="events-container">
      <div class="loader">Загрузка данных...</div>
    </div>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
  tg.expand();
  tg.setHeaderColor('#1a2a6c');
  tg.setBackgroundColor('#1a2a6c');

  // Фейковый бэкенд — пока просто возвращает спектакли
  const fakeEvents = [
    {
      title: "Большой театр: Щелкунчик",
      date: "15 декабря 2023, 19:00",
      type: "Балет",
      venue: "Большой театр, Москва",
      ticket_link: "https://ticket.ru/bolshoi-schelkunchik",
      official_site_link: "https://bolshoi.ru"
    },
    {
      title: "МХТ им. Чехова: Вишнёвый сад",
      date: "16 декабря 2023, 18:00",
      type: "Драма",
      venue: "МХТ им. Чехова, Москва",
      ticket_link: "https://ticket.ru/mxt-vishnevyi-sad",
      official_site_link: "https://mxt.ru"
    },
    {
      title: "Мариинский театр: Евгений Онегин",
      date: "17 декабря 2023, 19:30",
      type: "Опера",
      venue: "Мариинский театр, Москва",
      ticket_link: "https://ticket.ru/mariinsky-onegin",
      official_site_link: "https://marinsky.ru"
    }
  ];

  // Отображаем спектакли
  const container = document.getElementById('events-container');
  container.innerHTML = fakeEvents.map(event => `
    <div class="event-card">
      <div class="event-title">${event.title}</div>
      <div class="event-details">
        📅 ${event.date}<br>
        🎭 ${event.type}<br>
        📍 ${event.venue}
      </div>
      <div class="links">
        <a href="${event.ticket_link}" target="_blank" class="link-button ticket">🎟️ Билеты</a>
        <a href="${event.official_site_link}" target="_blank" class="link-button official">🌐 Сайт</a>
      </div>
    </div>
  `).join('');
  </script>
</body>

</html>
